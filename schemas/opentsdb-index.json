{
  "mappings":{
    "meta":{
      "properties":{
        "type": {"type":"keyword"},
        "meta": {
          "properties":{
            "type": {"type":"keyword"},
            "uid": {"type": "keyword"},
            "name": {"type": "text", "analyzer": "metricname"},
            "displayName": {"type": "text"},
            "created": {"type": "date"},

            "tsuid": {"type": "keyword"},
            "metric":{
              "properties": {
                "name": { "type": "keyword"}
              }
            },
            "tags": {
              "properties": {
                "uid": { "type": "keyword" },
                "name": { "type": "keyword" }
              }
            }
          }
        }
      }
    }
  },
  "settings":{
    "analysis": {
      "analyzer": {
        "metricname":{
          "type": "custom",
          "tokenizer": "keyword",
          "filter": [ "lowercase" ]
        }
      }
    }
  }
}


PUT tsdb/meta/uidmeta-metric-1
{
  "type":"uidmeta",
  "meta":{
    "type":"METRIC",
    "uid":"1",
    "name":"jvm.heap.used",
    "displayName":"堆内存",
    "created":"2017-10-24T09:00:00Z"
  }
}

GET tsdb/_search
{
  "query": {
    "bool": {
      "must": [
        { "match": { "type": "uidmeta" }},
        { "match": { "meta.type":  "METRIC" }}
      ]
    }
  }
}

GET tsdb/_search
{
  "from" : 0, "size" : 100,
  "query": {
    "bool": {
      "must": [
        { "match": { "type": "uidmeta" }},
        { "match": { "meta.type":  "METRIC" }}
      ]
    }
  }